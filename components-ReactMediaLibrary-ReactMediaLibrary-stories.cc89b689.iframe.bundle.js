"use strict";(self.webpackChunkreact_media_library=self.webpackChunkreact_media_library||[]).push([[438],{"./src/components/ReactMediaLibrary/ReactMediaLibrary.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CustomCard:()=>ReactMediaLibrary_stories_CustomCard,CustomSelectedForm:()=>ReactMediaLibrary_stories_CustomSelectedForm,Empty:()=>ReactMediaLibrary_stories_Empty,MultiSelect:()=>ReactMediaLibrary_stories_MultiSelect,Primary:()=>ReactMediaLibrary_stories_Primary,SearchBar:()=>ReactMediaLibrary_stories_SearchBar,__namedExportsOrder:()=>__namedExportsOrder,default:()=>ReactMediaLibrary_stories});var react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-dropzone/dist/es/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");let FileUploadStatus=function(FileUploadStatus){return FileUploadStatus.FAILED="failed",FileUploadStatus.PROCESSING="processing",FileUploadStatus.SUCCESS="success",FileUploadStatus}({});function renderIcon(status){switch(status){case FileUploadStatus.FAILED:return(0,jsx_runtime.jsx)("span",{className:"icon-failed"});case FileUploadStatus.PROCESSING:return(0,jsx_runtime.jsx)("span",{className:"icon-processing"});case FileUploadStatus.SUCCESS:return(0,jsx_runtime.jsx)("span",{className:"icon-success"})}}function renderBadge(status){switch(status){case FileUploadStatus.FAILED:return(0,jsx_runtime.jsx)("div",{className:"react-media-library__file-upload-result__list__item__icon-failed",children:"Failed"});case FileUploadStatus.PROCESSING:return(0,jsx_runtime.jsx)("div",{className:"react-media-library__file-upload-result__list__item__icon-processing",children:"Processing"});case FileUploadStatus.SUCCESS:return(0,jsx_runtime.jsx)("div",{className:"react-media-library__file-upload-result__list__item__icon-success",children:"Success"})}}const FileUploadResult=props=>(0,jsx_runtime.jsxs)("div",{className:"react-media-library__file-upload-result",children:[(0,jsx_runtime.jsx)("h3",{children:"Uploaded Files"}),(0,jsx_runtime.jsx)("ul",{className:"react-media-library__file-upload-result__list",children:function renderList(){return props.fileUploadList.map(((element,index)=>(0,jsx_runtime.jsxs)("li",{className:`react-media-library__file-upload-result__list__item status-${element.status}`,children:[renderIcon(element.status),(0,jsx_runtime.jsx)("div",{className:"react-media-library__file-upload-result__list__item__filename",children:element.fileName}),renderBadge(element.status)]},index)))}()})]});FileUploadResult.displayName="FileUploadResult";const FileUploadResult_FileUploadResult=FileUploadResult;try{FileUploadResult.displayName="FileUploadResult",FileUploadResult.__docgenInfo={description:"",displayName:"FileUploadResult",props:{fileUploadList:{defaultValue:null,description:"",name:"fileUploadList",required:!0,type:{name:"FileUploadListItem[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FileUploadResult/FileUploadResult.tsx#FileUploadResult"]={docgenInfo:FileUploadResult.__docgenInfo,name:"FileUploadResult",path:"src/components/FileUploadResult/FileUploadResult.tsx#FileUploadResult"})}catch(__react_docgen_typescript_loader_error){}var ReactMediaLibraryContext=__webpack_require__("./src/context/ReactMediaLibraryContext.ts");const FileUpload=()=>{const{fileUploadCallback,finishUploadCallback,acceptedTypes}=(0,react.useContext)(ReactMediaLibraryContext.s),[fileUploadList,setFileUploadList]=(0,react.useState)([]),dropzoneOptions={onDrop:async function onDrop(acceptedFiles){let newFileUploadList=acceptedFiles.map((element=>({fileName:element.name,status:FileUploadStatus.PROCESSING}))).concat(fileUploadList);setFileUploadList(newFileUploadList);for(const index in acceptedFiles){const file=acceptedFiles[index],result=await fileUploadCallback(file);newFileUploadList=[...newFileUploadList],newFileUploadList[index].status=result?FileUploadStatus.SUCCESS:FileUploadStatus.FAILED,setFileUploadList(newFileUploadList)}finishUploadCallback?.(newFileUploadList)}};if(acceptedTypes&&acceptedTypes.length>0){dropzoneOptions.accept={};for(const type of acceptedTypes)dropzoneOptions.accept[type]=[]}const{getRootProps,getInputProps,isDragActive}=(0,es.uI)(dropzoneOptions);return(0,jsx_runtime.jsxs)(react.Fragment,{children:[(0,jsx_runtime.jsxs)("div",{className:`react-media-library__file-upload ${isDragActive&&"is-drag-active"}`,...getRootProps(),children:[(0,jsx_runtime.jsx)("input",{...getInputProps()}),isDragActive?(0,jsx_runtime.jsx)("p",{children:"Drop the files here ..."}):(0,jsx_runtime.jsx)("p",{children:"Drag 'n' drop some files here, or click to select files"})]}),fileUploadList.length>0&&(0,jsx_runtime.jsx)(FileUploadResult_FileUploadResult,{fileUploadList})]})};FileUpload.displayName="FileUpload";const FileUpload_FileUpload=FileUpload;try{FileUpload.displayName="FileUpload",FileUpload.__docgenInfo={description:"",displayName:"FileUpload",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FileUpload/FileUpload.tsx#FileUpload"]={docgenInfo:FileUpload.__docgenInfo,name:"FileUpload",path:"src/components/FileUpload/FileUpload.tsx#FileUpload"})}catch(__react_docgen_typescript_loader_error){}const FileLibraryPager=({count,itemsPerPage,offsetDisplay=2,page,pagerCallback})=>(0,jsx_runtime.jsx)("div",{className:"react-media-library__file-library-pager",children:function renderLinks(){const links=[],offset=void 0!==offsetDisplay?offsetDisplay:2,totalPages=Math.ceil(count/itemsPerPage),prevPage=page-1,nextPage=page+1;links.push((0,jsx_runtime.jsx)("button",{type:"button",className:"react-media-library__file-library-pager__item is-first",onClick:()=>pagerCallback(1),disabled:1===page,children:"<<"},"first")),links.push((0,jsx_runtime.jsx)("button",{type:"button",className:"react-media-library__file-library-pager__item is-prev",onClick:()=>pagerCallback(prevPage),disabled:1===page,children:"<"},"prev"));for(let number=page-offset;number<page+offset+1;number++)number>0&&number<=totalPages&&links.push((0,jsx_runtime.jsx)("button",{type:"button",className:`react-media-library__file-library-pager__item ${number===page&&"is-active"}`,onClick:()=>pagerCallback(number),children:number},number));return links.push((0,jsx_runtime.jsx)("button",{type:"button",className:"react-media-library__file-library-pager__item is-next",onClick:()=>pagerCallback(nextPage),disabled:page===totalPages,children:">"},"next")),links.push((0,jsx_runtime.jsx)("button",{type:"button",className:"react-media-library__file-library-pager__item is-last",onClick:()=>pagerCallback(totalPages),disabled:page===totalPages,children:">>"},"last")),links}()});FileLibraryPager.displayName="FileLibraryPager";const FileLibraryPager_FileLibraryPager=FileLibraryPager;try{FileLibraryPager.displayName="FileLibraryPager",FileLibraryPager.__docgenInfo={description:"",displayName:"FileLibraryPager",props:{page:{defaultValue:null,description:"",name:"page",required:!0,type:{name:"number"}},itemsPerPage:{defaultValue:null,description:"",name:"itemsPerPage",required:!0,type:{name:"number"}},pagerCallback:{defaultValue:null,description:"",name:"pagerCallback",required:!0,type:{name:"(number: number) => void"}},count:{defaultValue:null,description:"",name:"count",required:!0,type:{name:"number"}},offsetDisplay:{defaultValue:{value:"2"},description:"",name:"offsetDisplay",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FileLibraryPager/FileLibraryPager.tsx#FileLibraryPager"]={docgenInfo:FileLibraryPager.__docgenInfo,name:"FileLibraryPager",path:"src/components/FileLibraryPager/FileLibraryPager.tsx#FileLibraryPager"})}catch(__react_docgen_typescript_loader_error){}const FileLibrary=()=>{const{selectedItems,setSelectedItems,sortProperty,sortAscending,multiSelect,fileLibraryList,defaultSelectedItemIds,libraryCardComponent,topBarComponent,selectedItemsComponent,filesSelectCallback}=(0,react.useContext)(ReactMediaLibraryContext.s),fileLibraryListSorted=(0,react.useMemo)((()=>[...fileLibraryList].sort(sortArray)),[fileLibraryList,sortArray]),firstItemIndex=defaultSelectedItemIds?.length?fileLibraryListSorted.findIndex((item=>item._id===defaultSelectedItemIds[0])):0,initialPage=Math.ceil((firstItemIndex+1)/12),[page,setPage]=(0,react.useState)(initialPage);function sortArray(a,b){try{let valA=sortProperty&&a[sortProperty]?a[sortProperty]:0,valB=sortProperty&&b[sortProperty]?b[sortProperty]:0;return"string"==typeof valA&&(valA=valA.toUpperCase()),"string"==typeof valB&&(valB=valB.toUpperCase()),sortAscending?valA<valB?-1:1:valA>valB?-1:1}catch{return 0}}return(0,jsx_runtime.jsxs)("div",{className:`react-media-library__file-library ${selectedItems.length>0&&"has-selected"}`,children:[topBarComponent&&(0,jsx_runtime.jsx)("div",{className:"react-media-library__file-library__top-bar",children:topBarComponent()}),(0,jsx_runtime.jsxs)("div",{className:"react-media-library__file-library__row",children:[(0,jsx_runtime.jsxs)("div",{className:"react-media-library__file-library__main",children:[fileLibraryList?.length?(0,jsx_runtime.jsx)("ul",{className:"react-media-library__file-library__list",children:function renderList(){if(!fileLibraryList)return[];const arrayStart=12*(page-1);let arrayEnd=arrayStart+12;return arrayEnd>fileLibraryList.length&&(arrayEnd=fileLibraryList.length),fileLibraryListSorted.slice(arrayStart,arrayEnd).map(((element,index)=>{const isSelected=!!selectedItems.find((item=>item._id===element._id));return(0,jsx_runtime.jsx)("li",{className:`react-media-library__file-library__list__item ${isSelected&&"is-selected"}`,onClick:()=>function onSelect(item){const foundIndex=selectedItems.findIndex((element=>element._id===item._id));if(multiSelect){const newSelectedItems=[...selectedItems];foundIndex>-1?newSelectedItems.splice(foundIndex,1):newSelectedItems.push(item),setSelectedItems(newSelectedItems)}else setSelectedItems(foundIndex>-1?[]:[item])}(element),children:libraryCardComponent?.(element)},index)}))}()}):(0,jsx_runtime.jsx)("p",{className:"react-media-library__file-library__empty",children:"No files available. Please upload a file."}),(0,jsx_runtime.jsxs)("div",{className:"react-media-library__file-library__footer",children:[fileLibraryList?.length>12&&(0,jsx_runtime.jsx)(FileLibraryPager_FileLibraryPager,{count:fileLibraryList.length,page,pagerCallback:number=>setPage(number),itemsPerPage:12}),0===selectedItems.length&&defaultSelectedItemIds&&defaultSelectedItemIds.length>0&&(0,jsx_runtime.jsx)("div",{className:"react-media-library__file-library__footer__actions",children:(0,jsx_runtime.jsxs)("button",{type:"button",className:"react-media-library__file-library__footer__actions__deselect",onClick:()=>filesSelectCallback([]),children:["Deselect File",defaultSelectedItemIds.length>1?"s":""]})})]})]}),selectedItems.length>0&&selectedItemsComponent?.()]})]})};FileLibrary.displayName="FileLibrary";const FileLibrary_FileLibrary=FileLibrary;try{FileLibrary.displayName="FileLibrary",FileLibrary.__docgenInfo={description:"",displayName:"FileLibrary",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FileLibrary/FileLibrary.tsx#FileLibrary"]={docgenInfo:FileLibrary.__docgenInfo,name:"FileLibrary",path:"src/components/FileLibrary/FileLibrary.tsx#FileLibrary"})}catch(__react_docgen_typescript_loader_error){}const ReactMediaLibraryTabs=()=>{const[currentTab,setCurrentTab]=(0,react.useState)("browse");return(0,jsx_runtime.jsxs)("div",{className:"react-media-library__tabs",children:[(0,jsx_runtime.jsxs)("div",{className:"react-media-library__tabs__header",children:[(0,jsx_runtime.jsx)("div",{className:`react-media-library__tabs__header__item ${"browse"===currentTab&&"is-active"}`,children:(0,jsx_runtime.jsx)("button",{type:"button",onClick:()=>setCurrentTab("browse"),children:"Browse Files"})}),(0,jsx_runtime.jsx)("div",{className:`react-media-library__tabs__header__item ${"upload"===currentTab&&"is-active"}`,children:(0,jsx_runtime.jsx)("button",{type:"button",onClick:()=>setCurrentTab("upload"),children:"Upload File"})})]}),"browse"===currentTab?(0,jsx_runtime.jsx)("div",{className:"react-media-library__tabs__item",children:(0,jsx_runtime.jsx)(FileLibrary_FileLibrary,{})}):(0,jsx_runtime.jsx)("div",{className:"react-media-library__tabs__item",children:(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)(FileUpload_FileUpload,{})})})]})};ReactMediaLibraryTabs.displayName="ReactMediaLibraryTabs";const ReactMediaLibraryTabs_ReactMediaLibraryTabs=ReactMediaLibraryTabs;try{ReactMediaLibraryTabs.displayName="ReactMediaLibraryTabs",ReactMediaLibraryTabs.__docgenInfo={description:"",displayName:"ReactMediaLibraryTabs",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ReactMediaLibraryTabs/ReactMediaLibraryTabs.tsx#ReactMediaLibraryTabs"]={docgenInfo:ReactMediaLibraryTabs.__docgenInfo,name:"ReactMediaLibraryTabs",path:"src/components/ReactMediaLibraryTabs/ReactMediaLibraryTabs.tsx#ReactMediaLibraryTabs"})}catch(__react_docgen_typescript_loader_error){}var FileLibraryCard=__webpack_require__("./src/components/FileLibraryCard/FileLibraryCard.tsx");const FileLibrarySelectedItemsCard=props=>{const{selectedItems,setSelectedItems}=(0,react.useContext)(ReactMediaLibraryContext.s);return(0,jsx_runtime.jsxs)("div",{className:"react-media-library__file-library-selected-items-card",children:[props.thumbnailUrl&&(0,jsx_runtime.jsx)("img",{className:"react-media-library__file-library-selected-items-card__image",src:props.thumbnailUrl,alt:props.title}),(0,jsx_runtime.jsxs)("div",{className:"react-media-library__file-library-selected-items-card__info",children:[(0,jsx_runtime.jsx)("div",{className:"react-media-library__file-library-selected-items-card__title",children:props.title}),(0,jsx_runtime.jsx)("div",{className:"react-media-library__file-library-selected-items-card__description",children:props.description}),(0,jsx_runtime.jsx)("div",{className:"react-media-library__file-library-selected-items-card__file-name",children:props.fileName})]}),(0,jsx_runtime.jsx)("div",{className:"react-media-library__file-library-selected-items-card__actions",children:(0,jsx_runtime.jsx)("button",{type:"button",title:"Remove from selected list",onClick:function onRemove(){const newSelectedItems=[...selectedItems],foundIndex=newSelectedItems.findIndex((element=>element._id===props._id));foundIndex>-1&&newSelectedItems.splice(foundIndex,1),setSelectedItems(newSelectedItems)},children:(0,jsx_runtime.jsx)("span",{className:"icon-close"})})})]})};FileLibrarySelectedItemsCard.displayName="FileLibrarySelectedItemsCard";const FileLibrarySelectedItemsCard_FileLibrarySelectedItemsCard=FileLibrarySelectedItemsCard;try{FileLibrarySelectedItemsCard.displayName="FileLibrarySelectedItemsCard",FileLibrarySelectedItemsCard.__docgenInfo={description:"",displayName:"FileLibrarySelectedItemsCard",props:{_id:{defaultValue:null,description:"Unique identifier for this item. Required to properly select the item in browse tab. *",name:"_id",required:!0,type:{name:"string | number"}},title:{defaultValue:null,description:"Displayed title. *",name:"title",required:!1,type:{name:"string"}},size:{defaultValue:null,description:"Size of file in Bytes. *",name:"size",required:!1,type:{name:"number"}},createdAt:{defaultValue:null,description:"Date that the file was created. *",name:"createdAt",required:!1,type:{name:"string | number | Date"}},thumbnailUrl:{defaultValue:null,description:"URL for thumbnail to display image in browse tab. *",name:"thumbnailUrl",required:!1,type:{name:"string"}},description:{defaultValue:null,description:"Displayed description on card in browse tab. *",name:"description",required:!1,type:{name:"string"}},fileName:{defaultValue:null,description:"Displayed filename on card in browse tab. *",name:"fileName",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FileLibrarySelectedItemsCard/FileLibrarySelectedItemsCard.tsx#FileLibrarySelectedItemsCard"]={docgenInfo:FileLibrarySelectedItemsCard.__docgenInfo,name:"FileLibrarySelectedItemsCard",path:"src/components/FileLibrarySelectedItemsCard/FileLibrarySelectedItemsCard.tsx#FileLibrarySelectedItemsCard"})}catch(__react_docgen_typescript_loader_error){}const FileLibrarySelectedItems=({itemComponent=item=>(0,jsx_runtime.jsx)(FileLibrarySelectedItemsCard_FileLibrarySelectedItemsCard,{...item})})=>{const{selectedItems,filesSelectCallback,filesDeleteCallback}=(0,react.useContext)(ReactMediaLibraryContext.s);return(0,jsx_runtime.jsxs)("div",{className:"react-media-library__file-library-selected-items",children:[(0,jsx_runtime.jsx)("ul",{className:"react-media-library__file-library-selected-items__list",children:selectedItems.map((item=>(0,jsx_runtime.jsx)("li",{className:"react-media-library__file-library-selected-items__list__item",children:itemComponent?.(item)},`item-${item._id}`)))}),(0,jsx_runtime.jsxs)("div",{className:"react-media-library__file-library-selected-items__actions",children:[void 0!==filesDeleteCallback&&(0,jsx_runtime.jsxs)("button",{type:"button",className:"react-media-library__file-library-selected-items__actions__delete",onClick:()=>filesDeleteCallback?.(selectedItems),children:["Delete ",selectedItems.length>1?selectedItems.length:""," File",selectedItems.length>1?"s":""]}),(0,jsx_runtime.jsxs)("button",{type:"button",className:"react-media-library__file-library-selected-items__actions__select",onClick:()=>filesSelectCallback(selectedItems),children:["Select ",selectedItems.length>1?selectedItems.length:""," File",selectedItems.length>1?"s":""]})]})]})};FileLibrarySelectedItems.displayName="FileLibrarySelectedItems";const FileLibrarySelectedItems_FileLibrarySelectedItems=FileLibrarySelectedItems;try{FileLibrarySelectedItems.displayName="FileLibrarySelectedItems",FileLibrarySelectedItems.__docgenInfo={description:"",displayName:"FileLibrarySelectedItems",props:{itemComponent:{defaultValue:{value:"(item) => (<FileLibrarySelectedItemsCard{...item} />)"},description:"",name:"itemComponent",required:!1,type:{name:"((item: FileLibraryListItem) => ReactElement<any, string | JSXElementConstructor<any>>)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FileLibrarySelectedItems/FileLibrarySelectedItems.tsx#FileLibrarySelectedItems"]={docgenInfo:FileLibrarySelectedItems.__docgenInfo,name:"FileLibrarySelectedItems",path:"src/components/FileLibrarySelectedItems/FileLibrarySelectedItems.tsx#FileLibrarySelectedItems"})}catch(__react_docgen_typescript_loader_error){}const ReactMediaLibrary=({defaultSelectedItemIds,modalTitle="Media Library",sortProperty="createdAt",sortAscending=!1,isOpen=!1,multiSelect=!1,fileLibraryList=[],libraryCardComponent=item=>(0,jsx_runtime.jsx)(FileLibraryCard.Z,{...item}),selectedItemsComponent=()=>(0,jsx_runtime.jsx)(FileLibrarySelectedItems_FileLibrarySelectedItems,{}),acceptedTypes=["image/*"],onClose,fileUploadCallback,finishUploadCallback,filesSelectCallback,filesDeleteCallback,topBarComponent})=>{const[selectedItems,setSelectedItems]=(0,react.useState)([]),filterDefaultSelected=fileLibraryList.filter((item=>defaultSelectedItemIds?.includes(item._id)));return(0,react.useEffect)((()=>{setSelectedItems(defaultSelectedItemIds?.length?filterDefaultSelected:[])}),[fileLibraryList,defaultSelectedItemIds]),isOpen?(0,jsx_runtime.jsx)(ReactMediaLibraryContext.s.Provider,{value:{selectedItems,setSelectedItems,multiSelect,fileLibraryList,fileUploadCallback,finishUploadCallback,filesSelectCallback,filesDeleteCallback,libraryCardComponent,selectedItemsComponent,topBarComponent,sortProperty,sortAscending,acceptedTypes,defaultSelectedItemIds:filterDefaultSelected.map((item=>item._id))},children:(0,jsx_runtime.jsx)("div",{className:"react-media-library",onClick:function handleModalOnClick(e){e.currentTarget==e.target&&onClose()},children:(0,jsx_runtime.jsxs)("div",{className:"react-media-library__modal",children:[(0,jsx_runtime.jsxs)("div",{className:"react-media-library__modal__header",children:[(0,jsx_runtime.jsx)("h2",{className:"react-media-library__modal__header__title",children:modalTitle}),(0,jsx_runtime.jsx)("div",{className:"react-media-library__modal__header__close",children:(0,jsx_runtime.jsx)("button",{type:"button",onClick:onClose,children:(0,jsx_runtime.jsx)("span",{className:"icon-close"})})})]}),(0,jsx_runtime.jsx)("div",{className:"react-media-library__modal__body",children:(0,jsx_runtime.jsx)(ReactMediaLibraryTabs_ReactMediaLibraryTabs,{})})]})})}):(0,jsx_runtime.jsx)(react.Fragment,{})};ReactMediaLibrary.displayName="ReactMediaLibrary";const ReactMediaLibrary_ReactMediaLibrary=ReactMediaLibrary;try{ReactMediaLibrary.displayName="ReactMediaLibrary",ReactMediaLibrary.__docgenInfo={description:"",displayName:"ReactMediaLibrary",props:{isOpen:{defaultValue:{value:"false"},description:"Control to show or hide the modal. *",name:"isOpen",required:!1,type:{name:"boolean"}},onClose:{defaultValue:null,description:"Function that gets called when the user clicks on the close button on the top right or gray overlay background. *",name:"onClose",required:!0,type:{name:"() => void"}},modalTitle:{defaultValue:{value:"Media Library"},description:"Title that displays at the top of the modal. *",name:"modalTitle",required:!1,type:{name:"string"}},fileUploadCallback:{defaultValue:null,description:"Promise that gets called for every file the user attempts to upload. Return `true` or `false` depending on success. *",name:"fileUploadCallback",required:!0,type:{name:"(file: File) => Promise<boolean>"}},finishUploadCallback:{defaultValue:null,description:"Function that gets called once all the file upload promises have finished. *",name:"finishUploadCallback",required:!1,type:{name:"((uploadFiles: FileUploadListItem[]) => void)"}},acceptedTypes:{defaultValue:{value:'["image/*"]'},description:"List of accepted [MIME](https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types) types. Pass empty array to accept all. *",name:"acceptedTypes",required:!1,type:{name:"string[]"}},fileLibraryList:{defaultValue:{value:"[]"},description:"Full list of items to render in the browse tab. *",name:"fileLibraryList",required:!1,type:{name:"FileLibraryListItem[]"}},sortProperty:{defaultValue:{value:"createdAt"},description:"Property name to sort by. *",name:"sortProperty",required:!1,type:{name:"enum",value:[{value:'"title"'},{value:'"createdAt"'},{value:'"size"'},{value:'"fileName"'}]}},sortAscending:{defaultValue:{value:"false"},description:"Control to invert the sort selection. *",name:"sortAscending",required:!1,type:{name:"boolean"}},libraryCardComponent:{defaultValue:{value:"(item) => (<FileLibraryCard {...item} />)"},description:"Component to render for each selectable item in the browse tab. *",name:"libraryCardComponent",required:!1,type:{name:"((item: FileLibraryListItem) => ReactElement<any, string | JSXElementConstructor<any>>)"}},topBarComponent:{defaultValue:null,description:"Component to render at the top of the modal browse tab. Mostly used for custom search bars / filters. *",name:"topBarComponent",required:!1,type:{name:"(() => ReactElement<any, string | JSXElementConstructor<any>>)"}},selectedItemsComponent:{defaultValue:{value:"() => (<FileLibrarySelectedItems/>)"},description:"Component to render on the side with an array of selected items. *",name:"selectedItemsComponent",required:!1,type:{name:"(() => ReactElement<any, string | JSXElementConstructor<any>>)"}},filesSelectCallback:{defaultValue:null,description:"Function that gets called when the user submits their file selection. *",name:"filesSelectCallback",required:!0,type:{name:"(items: FileLibraryListItem[]) => void"}},filesDeleteCallback:{defaultValue:null,description:"Function that gets called when the user deletes their file selection. *",name:"filesDeleteCallback",required:!1,type:{name:"((items: FileLibraryListItem[]) => void)"}},multiSelect:{defaultValue:{value:"false"},description:"Allows the user to select multiple items to submit or delete. *",name:"multiSelect",required:!1,type:{name:"boolean"}},defaultSelectedItemIds:{defaultValue:null,description:"Default item(s) to be selected if ID is provided. *",name:"defaultSelectedItemIds",required:!1,type:{name:"(string | number)[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ReactMediaLibrary/ReactMediaLibrary.tsx#ReactMediaLibrary"]={docgenInfo:ReactMediaLibrary.__docgenInfo,name:"ReactMediaLibrary",path:"src/components/ReactMediaLibrary/ReactMediaLibrary.tsx#ReactMediaLibrary"})}catch(__react_docgen_typescript_loader_error){}const storiesDefaultFileLibraryList=[{_id:"6549e02fb0612d12ca163aaa",title:"amet qui sunt",description:"Deserunt et reprehenderit ut qui ea ex excepteur incididunt velit. Reprehenderit dolor dolor dolore non occaecat cillum aute fugiat ea nisi nostrud. Occaecat velit excepteur non aliquip nulla. Dolor consectetur ullamco consequat sint dolor Lorem dolor. Est laborum laborum esse duis dolor occaecat aliqua esse quis sit nulla qui ad irure. Incididunt excepteur aute mollit voluptate mollit veniam et nostrud deserunt voluptate.\r\n",size:187657,fileName:"qui.jpg",thumbnailUrl:"https://loremflickr.com/640/360?v=01",createdAt:1208133942801},{_id:"6549e02feac54a219585b848",title:"laboris excepteur voluptate",description:"Proident ea aliquip ad sit et. Culpa ex qui ad qui proident aliquip veniam dolor deserunt eu nisi consequat esse cupidatat. Qui dolore aliqua magna est labore consectetur non elit. Culpa proident consectetur proident nostrud do sint velit dolor ullamco nisi est pariatur. Ex esse cupidatat tempor dolor quis sunt dolore in in proident eiusmod nisi proident quis. Veniam consectetur reprehenderit quis do dolor proident sint dolor. Ex irure sunt proident sunt.\r\n",size:119197,fileName:"cillum.jpg",thumbnailUrl:"https://loremflickr.com/640/360?v=02",createdAt:1136027683961},{_id:"6549e02facf16ff0674e9b9d",title:"cupidatat ad ex",description:"Ut nisi et consectetur enim culpa exercitation minim voluptate aute incididunt laborum consectetur consectetur. Sunt ullamco amet laborum nulla ut. Enim pariatur amet incididunt voluptate magna.\r\n",size:171436,fileName:"quis.jpg",thumbnailUrl:"https://loremflickr.com/640/360?v=03",createdAt:1848445892836},{_id:"6549e02f5881ecf44c9911d0",title:"consectetur dolore consequatconsectetur dolore consequatconsectetur dolore consequatconsectetur dolore consequatconsectetur dolore consequatconsectetur dolore consequatconsectetur dolore consequatconsectetur dolore consequat",description:"Laboris amet ipsum commodo in eu in excepteur sint consectetur ullamco irure est dolore. Consectetur quis irure laborum est voluptate qui qui ad minim. Laboris ex adipisicing do eiusmod amet veniam laboris amet quis.\r\n",size:178114,fileName:"excepteur.jpg",thumbnailUrl:"https://loremflickr.com/640/360?v=04",createdAt:0xbaefbbb0002},{_id:"6549e02f2e0d77db64229aac",title:"consectetur laboris est",description:"Exercitation in magna ullamco culpa commodo anim ut sunt minim fugiat qui. Occaecat voluptate pariatur ad reprehenderit. Est dolore occaecat ea exercitation reprehenderit ea voluptate aute reprehenderit proident nisi excepteur eu. Laborum nulla ullamco culpa nulla non ipsum minim.\r\n",size:105083,fileName:"amet.jpg",thumbnailUrl:"https://loremflickr.com/640/360?v=05",createdAt:1801811872053},{_id:"6549e02f616da0b4e6f22b3b",title:"aliquip anim consequat",description:"Ipsum labore sit tempor sit sunt adipisicing occaecat officia amet. Culpa do ipsum duis labore exercitation esse cillum et eu Lorem. Elit velit consectetur dolore eu. Laboris esse cupidatat aliquip non culpa tempor veniam.\r\n",size:133208,fileName:"adipisicing.jpg",thumbnailUrl:"https://loremflickr.com/640/360?v=06",createdAt:1542455093406},{_id:"6549e02f9a53d422f67aaf6e",title:"nostrud cupidatat laborum",description:"Fugiat pariatur ullamco anim in tempor dolore minim aliquip excepteur dolore. Mollit ullamco pariatur ex velit est. Dolor id proident culpa aute sit.\r\n",size:144851,fileName:"officia.jpg",thumbnailUrl:"https://loremflickr.com/640/360?v=07",createdAt:1594850355930},{_id:"6549e02f1e68a115098104d0",title:"dolor excepteur cupidatat",description:"Ullamco nostrud duis nostrud eiusmod. In pariatur magna id reprehenderit ipsum laborum. Incididunt eiusmod exercitation exercitation occaecat velit est Lorem incididunt incididunt cupidatat exercitation officia proident. Labore eiusmod id esse fugiat commodo exercitation sint quis adipisicing nostrud ullamco. Culpa Lorem consectetur aliquip ea dolore nulla. Culpa excepteur incididunt nisi magna enim consectetur elit pariatur adipisicing exercitation dolor aute deserunt et. Dolor nisi nostrud consectetur non do nulla culpa labore enim deserunt.\r\n",size:132660,fileName:"laborum.jpg",thumbnailUrl:"https://loremflickr.com/640/360?v=08",createdAt:1972381254709},{_id:"6549e02fb15648f4c7be4824",title:"enim eiusmod aute",description:"Id nostrud laborum adipisicing fugiat tempor eu pariatur nisi cupidatat incididunt Lorem. Ex ipsum adipisicing magna ut qui nisi laboris culpa. Irure Lorem eiusmod velit laboris incididunt dolor exercitation occaecat ut.\r\n",size:125797,fileName:"adipisicing.jpg",thumbnailUrl:"https://loremflickr.com/640/360?v=09",createdAt:1295463978606},{_id:"6549e02f5836537473c1dcd7",title:"laborum amet officia",description:"Commodo dolor culpa ex mollit et nisi do. Exercitation ullamco exercitation excepteur consequat ex Lorem et. Dolore sint ea deserunt eiusmod excepteur enim culpa consectetur tempor et cillum. Do velit ad enim ex officia ullamco amet dolore proident esse sint. Irure ad excepteur esse in nulla cupidatat minim duis. Irure labore ipsum aliquip ex consequat eiusmod ullamco excepteur duis dolor.\r\n",size:195914,fileName:"eiusmod.jpg",thumbnailUrl:"https://loremflickr.com/640/360?v=10",createdAt:1960938360783},{_id:"6549e02ffb4e5c4e06930841",title:"proident proident dolor",description:"Est reprehenderit labore deserunt consectetur ut sint exercitation fugiat quis fugiat excepteur consequat occaecat dolore. Quis esse ut nostrud incididunt nisi ex do cupidatat ut et. Quis aliquip culpa elit est aute et dolor ut mollit aliqua aute sunt. Quis Lorem irure duis officia officia. Minim veniam commodo ad proident labore aliqua proident dolore mollit. Pariatur ullamco laboris aute culpa. Non aliquip incididunt amet ullamco cillum ullamco velit minim.\r\n",size:140791,fileName:"magna.jpg",thumbnailUrl:"https://loremflickr.com/640/360?v=11",createdAt:1144461972098},{_id:"6549e02f77f723bd33768ed2",title:"laborum exercitation laborum",description:"Eiusmod occaecat mollit adipisicing laboris minim est sint magna magna incididunt ea ipsum. Nulla nisi sit ex do. Proident proident occaecat mollit nulla laborum deserunt et nisi sunt sint exercitation id. Magna nisi qui id eu sint. Culpa officia consectetur enim commodo ipsum non pariatur culpa pariatur ea aliqua in occaecat voluptate.\r\n",size:126554,fileName:"dolor.jpg",thumbnailUrl:"https://loremflickr.com/640/360?v=12",createdAt:1785021171902},{_id:"6549e02fe0c1f3594e36fc0d",title:"ullamco labore mollit",description:"Pariatur Lorem velit exercitation sunt Lorem ut. Esse qui laboris cillum qui enim nisi. Laboris aliqua tempor esse reprehenderit enim ex exercitation amet ullamco Lorem sit elit proident aliqua. Enim cupidatat ad proident consectetur commodo cupidatat reprehenderit consectetur adipisicing nulla. Dolor commodo ex veniam est. Esse tempor eu mollit aliqua nisi commodo.\r\n",size:170214,fileName:"pariatur.jpg",thumbnailUrl:"https://loremflickr.com/640/360?v=13",createdAt:1964611850310},{_id:"6549e02f8c674609e578be76",title:"minim quis cupidatat",description:"Laboris occaecat reprehenderit ut eiusmod consectetur non dolore aute velit veniam veniam irure id. Exercitation sunt aliqua mollit minim mollit nisi laborum proident. Elit velit in esse id mollit nisi elit nostrud laboris in qui nostrud. Consequat qui irure reprehenderit deserunt duis sit nulla cupidatat.\r\n",size:167655,fileName:"veniam.jpg",thumbnailUrl:"https://loremflickr.com/640/360?v=14",createdAt:1553328071616},{_id:"6549e02f7a940e482d5be599",title:"sunt ad fugiat",description:"Laborum eiusmod Lorem qui do laborum non. Tempor cillum pariatur consequat non laborum labore tempor anim in Lorem labore dolore consectetur. Qui minim fugiat excepteur laborum Lorem. Id incididunt mollit nostrud cupidatat sint exercitation aliqua tempor ipsum incididunt. Cillum adipisicing incididunt non pariatur nulla irure quis incididunt in. Dolore non occaecat quis eu magna sunt ea.\r\n",size:178302,fileName:"aute.jpg",thumbnailUrl:"https://loremflickr.com/640/360?v=15",createdAt:1806216005272},{_id:"6549e02fcfe2b5c5acc6dc52",title:"irure dolore nostrud",description:"Occaecat exercitation officia ut in dolor sint. Consectetur culpa eu minim minim veniam nostrud excepteur voluptate. Cillum esse adipisicing quis deserunt. Laborum nulla proident qui id voluptate cillum veniam eiusmod.\r\n",size:111722,fileName:"ex.jpg",thumbnailUrl:"https://loremflickr.com/640/360?v=16",createdAt:1315694578126},{_id:"6549e02f1b6bb13e5a5ad736",title:"consectetur aute ipsum",description:"Magna irure laborum in qui. Est ex amet ad ipsum nisi dolor officia fugiat quis consectetur tempor dolor Lorem. Ad pariatur et irure aliquip velit incididunt. Cillum ut sit labore minim ad ex reprehenderit aliquip duis magna commodo culpa. Ad sint aute deserunt ex eu nisi. Id velit enim magna tempor amet duis consequat nisi cillum. Aliquip consequat consectetur officia ullamco sit.\r\n",size:130598,fileName:"sit.jpg",thumbnailUrl:"https://loremflickr.com/640/360?v=17",createdAt:1679851105911},{_id:"6549e02ffbbd489d2918a6d9",title:"nostrud sunt nulla",description:"Laborum dolor laboris officia cupidatat commodo dolor. Exercitation tempor incididunt reprehenderit irure qui Lorem in. Pariatur voluptate minim exercitation ex commodo consectetur minim sint exercitation aliqua pariatur reprehenderit. Et aute dolore labore veniam Lorem ad nostrud incididunt adipisicing qui.\r\n",size:117445,fileName:"commodo.jpg",thumbnailUrl:"https://loremflickr.com/640/360?v=18",createdAt:1386607308214},{_id:"6549e02fcb075975589b5766",title:"velit eiusmod amet",description:"Occaecat magna laboris nostrud duis mollit aliquip laboris enim exercitation exercitation. Ipsum eiusmod irure qui incididunt. Non consequat est aliquip aliquip sint excepteur esse nisi magna. Ad esse labore est proident id officia irure fugiat reprehenderit aute consequat. Cupidatat irure officia Lorem Lorem elit consectetur ullamco magna cupidatat incididunt reprehenderit nisi in excepteur. Sint irure duis officia commodo voluptate duis esse.\r\n",size:116114,fileName:"officia.jpg",thumbnailUrl:"https://loremflickr.com/640/360?v=19",createdAt:1841321981948},{_id:"6549e02f2159b917dac3dbe6",title:"eu excepteur officia",description:"Reprehenderit ipsum dolore ad quis quis sit fugiat officia sint irure. Voluptate Lorem amet laboris deserunt ex magna laboris reprehenderit deserunt. Minim reprehenderit est ut duis tempor. Aute non ex proident aliqua in exercitation. Ad esse fugiat sint ipsum sunt dolor in velit et non tempor labore nostrud. Exercitation occaecat consequat sunt et veniam officia est eiusmod excepteur id. Magna anim labore minim excepteur occaecat duis ea aliqua commodo sit cillum et culpa.\r\n",size:189034,fileName:"laboris.jpg",thumbnailUrl:"https://loremflickr.com/640/360?v=20",createdAt:1963939239813},{_id:"6549e02fc4b25cebd213e9c8",title:"incididunt magna occaecat",description:"Ullamco non Lorem ullamco ullamco cillum nulla occaecat ea ullamco ut mollit amet ex elit. Do minim minim exercitation duis id tempor anim minim adipisicing laboris consectetur do deserunt. Magna ad culpa voluptate esse culpa tempor ea laborum officia consequat proident excepteur cillum. Proident dolore labore fugiat non in est consectetur.\r\n",size:134564,fileName:"qui.jpg",thumbnailUrl:"https://loremflickr.com/640/360?v=21",createdAt:0xe9aaecc7a9},{_id:"6549e02f4818b37987ab8c6f",title:"in tempor eu",description:"Voluptate commodo anim anim pariatur magna incididunt. Irure reprehenderit cupidatat proident et id ipsum consequat ullamco ut enim. Sit nostrud velit consequat sunt proident aliquip consectetur deserunt tempor consequat eu eu eiusmod officia. Voluptate eu velit officia proident pariatur quis irure sint eiusmod culpa. Dolore reprehenderit elit ad id incididunt pariatur non non quis nulla minim.\r\n",size:133458,fileName:"laborum.jpg",thumbnailUrl:"https://loremflickr.com/640/360?v=22",createdAt:1921990456450},{_id:"6549e02fe66179f75cc7b66f",title:"enim ea ea",description:"Quis id cupidatat anim deserunt do est. Nostrud non fugiat dolore adipisicing et ex officia laborum ex velit ut labore exercitation. Aliqua consectetur ut ad esse eu aliqua duis aliquip laboris esse. Occaecat non ex occaecat cupidatat ut ex labore aute. Anim nostrud aliqua laboris do anim amet culpa Lorem enim officia dolor officia sunt.\r\n",size:197596,fileName:"nisi.jpg",thumbnailUrl:"https://loremflickr.com/640/360?v=23",createdAt:1206208222172},{_id:"6549e02f3f7ab45b63696cc5",title:"cillum eiusmod aute",description:"Adipisicing ullamco esse magna sit voluptate esse adipisicing culpa. Velit aute Lorem velit nisi ipsum elit proident mollit amet. Commodo ea fugiat ipsum eiusmod minim nostrud qui sit occaecat sint exercitation dolore exercitation tempor. Ullamco nulla anim ullamco proident nisi reprehenderit tempor magna aliqua. Incididunt in duis occaecat ea occaecat Lorem do sunt esse consectetur. Ad cillum duis amet esse. Aute adipisicing aliquip excepteur aliquip esse fugiat tempor fugiat aliquip voluptate.\r\n",size:197565,fileName:"labore.jpg",thumbnailUrl:"https://loremflickr.com/640/360?v=24",createdAt:1811004082203},{_id:"6549e02f41bcedfdfcefe859",title:"reprehenderit ea do",description:"Aliqua reprehenderit velit officia culpa aliqua elit. Voluptate amet id anim sit mollit. Nulla sit reprehenderit id deserunt fugiat magna eu. Veniam deserunt mollit voluptate reprehenderit nostrud reprehenderit enim. Minim voluptate id deserunt anim id amet veniam tempor ullamco aliquip qui eu.\r\n",size:168284,fileName:"excepteur.jpg",thumbnailUrl:"https://loremflickr.com/640/360?v=25",createdAt:1980976591796},{_id:"6549e02fcb7cc1aa7f833c85",title:"eiusmod dolore commodo",description:"Culpa et laboris minim laboris commodo do proident aliquip et proident ullamco. Deserunt incididunt incididunt exercitation eiusmod. Dolore aliquip enim deserunt tempor est qui nostrud velit enim ipsum. Aliqua reprehenderit tempor consectetur laborum esse fugiat sit. Non Lorem est laboris proident do culpa cillum.\r\n",size:159961,fileName:"sit.jpg",thumbnailUrl:"https://loremflickr.com/640/360?v=26",createdAt:1513902625648},{_id:"6549e02f7a1e6ad10d1f6fa0",title:"officia ad proident",description:"Qui adipisicing laborum cillum officia aliquip laborum est occaecat occaecat cillum fugiat occaecat enim ullamco. Laborum pariatur magna ipsum labore laboris officia exercitation. In aute et ipsum cillum dolor occaecat est nostrud esse irure occaecat sit. Ad nulla voluptate eu tempor mollit commodo ut cupidatat exercitation magna sint enim occaecat aute. Consequat nisi aliqua minim mollit nulla. Et commodo labore cillum ullamco incididunt minim dolore nulla consequat sit laboris cupidatat ut. Voluptate eiusmod qui officia voluptate est nulla sit tempor.\r\n",size:175483,fileName:"non.jpg",thumbnailUrl:"https://loremflickr.com/640/360?v=27",createdAt:1847348205581},{_id:"6549e02fa9c587e35e55724c",title:"nisi pariatur ipsum",description:"Sit dolor quis veniam enim aute. In irure ad amet enim minim nisi et pariatur elit aliquip. Irure ullamco excepteur consequat ut cupidatat. Pariatur ut et sunt sint ex eu mollit nisi duis nisi.\r\n",size:108684,fileName:"culpa.jpg",thumbnailUrl:"https://loremflickr.com/640/360?v=28",createdAt:0xeb8034e3af},{_id:"6549e02f46a92297aedd5be7",title:"ut ad aliqua",description:"Est et enim aliquip aute fugiat pariatur. Ut eiusmod exercitation irure nulla qui nulla do magna proident ex. Do incididunt tempor mollit ullamco labore incididunt aute nostrud deserunt ipsum consequat irure adipisicing.\r\n",size:196910,fileName:"aliqua.jpg",thumbnailUrl:"https://loremflickr.com/640/360?v=29",createdAt:1344919321242},{_id:"6549e02fc616f64a9e74e6c9",title:"occaecat veniam nulla",description:"Excepteur irure id pariatur occaecat ad cupidatat ipsum esse elit aliqua sit sit mollit excepteur. In eu occaecat elit pariatur qui pariatur incididunt. Amet reprehenderit in quis duis. Nisi ipsum id sint incididunt dolor pariatur veniam quis ea cupidatat magna minim incididunt. Elit elit cupidatat reprehenderit ut ullamco adipisicing adipisicing nostrud cillum in esse.\r\n",size:148933,fileName:"ut.jpg",thumbnailUrl:"https://loremflickr.com/640/360?v=30",createdAt:1589605393177}],storiesDefaultPrimaryArgs={multiSelect:!1,isOpen:!0,onClose:()=>{},fileUploadCallback:async function storiesDefaultFileUploadCallback(file){try{const fileBase64=await function convertFileToBase64(file){const fileReader=new FileReader;return new Promise(((resolve,reject)=>{fileReader.onerror=()=>{fileReader.abort(),reject(new DOMException("Problem parsing input file."))},fileReader.onload=()=>{resolve(fileReader.result)},fileReader.readAsDataURL(file)}))}(file);return alert(`Upload file ${file.name}\n ${fileBase64}`),!0}catch{return!1}},fileLibraryList:storiesDefaultFileLibraryList,filesSelectCallback:items=>alert(`Selected items ${items.map((i=>i._id)).join(", ")}`),filesDeleteCallback:items=>alert(`Deleted items ${items.map((i=>i._id)).join(", ")}`),finishUploadCallback:uploadFiles=>alert(`Uploaded ${uploadFiles.filter((f=>f.status===FileUploadStatus.SUCCESS)).length}/${uploadFiles.length} files!`)};var external_STORYBOOK_MODULE_PREVIEW_API_=__webpack_require__("@storybook/preview-api");const Primary=args=>{const[fileLibraryList,setFileLibraryList]=(0,react.useState)([]),[myChosenItem,setMyChosenItem]=(0,react.useState)(),[{isOpen},updateArgs]=(0,external_STORYBOOK_MODULE_PREVIEW_API_.useArgs)();return(0,react.useEffect)((()=>{!async function fetchAssets(){const myRandomItem=storiesDefaultFileLibraryList[Math.floor(Math.random()*args.fileLibraryList.length)];setFileLibraryList(storiesDefaultFileLibraryList),setMyChosenItem(myRandomItem)}()}),[]),(0,jsx_runtime.jsxs)(react.Fragment,{children:[(0,jsx_runtime.jsx)("button",{onClick:()=>updateArgs({isOpen:!0}),children:"Open Media Library"}),myChosenItem&&(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("p",{children:(0,jsx_runtime.jsx)("strong",{children:"My selected file"})}),(0,jsx_runtime.jsx)("div",{style:{width:"20rem"},children:(0,jsx_runtime.jsx)("img",{src:myChosenItem.thumbnailUrl,alt:myChosenItem.title,style:{width:"100%",height:"auto"}})}),(0,jsx_runtime.jsxs)("p",{children:["Title: ",myChosenItem.title,(0,jsx_runtime.jsx)("br",{}),"Filename: ",myChosenItem.fileName]})]}),(0,jsx_runtime.jsx)(ReactMediaLibrary_ReactMediaLibrary,{...args,isOpen,onClose:()=>updateArgs({isOpen:!1}),fileLibraryList,defaultSelectedItemIds:[myChosenItem?._id||""],filesSelectCallback:items=>{setMyChosenItem(items[0]),updateArgs({isOpen:!1})}})]})};Primary.displayName="Primary",Primary.args={...storiesDefaultPrimaryArgs,isOpen:!1,fileLibraryList:[]};const MultiSelect=args=>{const[{},updateArgs]=(0,external_STORYBOOK_MODULE_PREVIEW_API_.useArgs)();return(0,jsx_runtime.jsxs)(react.Fragment,{children:[(0,jsx_runtime.jsx)("button",{onClick:()=>updateArgs({isOpen:!0}),children:"Open Media Library"}),(0,jsx_runtime.jsx)(ReactMediaLibrary_ReactMediaLibrary,{...args,onClose:()=>updateArgs({isOpen:!1})})]})};MultiSelect.displayName="MultiSelect",MultiSelect.args={...storiesDefaultPrimaryArgs,multiSelect:!0};const CustomLibraryCard=props=>{const{selectedItems}=(0,react.useContext)(ReactMediaLibraryContext.s),isSelected=!!selectedItems.find((element=>element._id===props._id));return(0,jsx_runtime.jsxs)("div",{style:{backgroundColor:isSelected?"skyblue":"white"},children:[(0,jsx_runtime.jsx)("h5",{children:props.title}),(0,jsx_runtime.jsxs)("p",{children:["This is custom content for ",props.fileName," that I wish to display."]})]})};CustomLibraryCard.displayName="CustomLibraryCard";const CustomCard=args=>{const[{},updateArgs]=(0,external_STORYBOOK_MODULE_PREVIEW_API_.useArgs)();return(0,jsx_runtime.jsxs)(react.Fragment,{children:[(0,jsx_runtime.jsx)("button",{onClick:()=>updateArgs({isOpen:!0}),children:"Open Media Library"}),(0,jsx_runtime.jsx)(ReactMediaLibrary_ReactMediaLibrary,{...args,onClose:()=>updateArgs({isOpen:!1})})]})};CustomCard.displayName="CustomCard",CustomCard.args={...storiesDefaultPrimaryArgs,libraryCardComponent:item=>(0,jsx_runtime.jsx)(CustomLibraryCard,{...item})};const FileLibraryTopBar=props=>(0,jsx_runtime.jsx)("div",{style:{padding:"0 1rem 1rem"},children:(0,jsx_runtime.jsx)("input",{type:"search",value:props.searchValue,onChange:function onSearchChange(e){props.setSearchValue(e.target.value)},placeholder:"Search file titles or filenames",style:{width:"100%",padding:"0.5rem 1rem",borderRadius:"0.5rem",border:"1px solid #ccc"}})});FileLibraryTopBar.displayName="FileLibraryTopBar";const SearchBar=args=>{const[searchValue,setSearchValue]=(0,react.useState)(""),[{},updateArgs]=(0,external_STORYBOOK_MODULE_PREVIEW_API_.useArgs)();return(0,jsx_runtime.jsxs)(react.Fragment,{children:[(0,jsx_runtime.jsx)("button",{onClick:()=>updateArgs({isOpen:!0}),children:"Open Media Library"}),(0,jsx_runtime.jsx)(ReactMediaLibrary_ReactMediaLibrary,{...args,onClose:()=>updateArgs({isOpen:!1}),topBarComponent:function topBarComponent(){return(0,jsx_runtime.jsx)(FileLibraryTopBar,{searchValue,setSearchValue})},fileLibraryList:storiesDefaultFileLibraryList.filter((function filterItem(item){return item.title?.toLowerCase().includes(searchValue.toLowerCase())||item.fileName?.toLowerCase().includes(searchValue.toLowerCase())||!1}))})]})};SearchBar.displayName="SearchBar",SearchBar.args={...storiesDefaultPrimaryArgs};const inputStyle={width:"100%",padding:"0.5rem 1rem",borderRadius:"0.5rem",border:"1px solid #ccc",marginBottom:"1rem",boxSizing:"border-box"},CustomSelectedFormComponent=props=>{const[formValues,setFormValues]=(0,react.useState)({title:props.title||"",description:props.description||""});return(0,jsx_runtime.jsxs)("form",{onSubmit:async function onFormSubmit(e){e.preventDefault(),alert(JSON.stringify(formValues))},children:[(0,jsx_runtime.jsx)("img",{src:props.thumbnailUrl,alt:props.title,style:{width:"100%",aspectRatio:"16 / 9",objectFit:"cover",objectPosition:"50% 50%",marginBottom:"1rem"}}),(0,jsx_runtime.jsxs)("label",{children:[(0,jsx_runtime.jsx)("span",{children:"Title"}),(0,jsx_runtime.jsx)("input",{type:"text",value:formValues.title,onChange:function onTitleChange(e){setFormValues({...formValues,title:e.target.value})},style:inputStyle})]}),(0,jsx_runtime.jsxs)("label",{children:[(0,jsx_runtime.jsx)("span",{children:"Description"}),(0,jsx_runtime.jsx)("input",{type:"text",value:formValues.description,onChange:function onDescriptionChange(e){setFormValues({...formValues,description:e.target.value})},style:inputStyle})]}),(0,jsx_runtime.jsx)("button",{type:"submit",children:"Save"})]})};CustomSelectedFormComponent.displayName="CustomSelectedFormComponent";const CustomSelectedForm=args=>{const[{},updateArgs]=(0,external_STORYBOOK_MODULE_PREVIEW_API_.useArgs)();return(0,jsx_runtime.jsxs)(react.Fragment,{children:[(0,jsx_runtime.jsx)("button",{onClick:()=>updateArgs({isOpen:!0}),children:"Open Media Library"}),(0,jsx_runtime.jsx)(ReactMediaLibrary_ReactMediaLibrary,{...args,onClose:()=>updateArgs({isOpen:!1})})]})};CustomSelectedForm.displayName="CustomSelectedForm",CustomSelectedForm.args={...storiesDefaultPrimaryArgs,selectedItemsComponent:()=>(0,jsx_runtime.jsx)(FileLibrarySelectedItems_FileLibrarySelectedItems,{itemComponent:item=>(0,jsx_runtime.jsx)(CustomSelectedFormComponent,{...item})})};const Empty=args=>{const[{},updateArgs]=(0,external_STORYBOOK_MODULE_PREVIEW_API_.useArgs)();return(0,jsx_runtime.jsxs)(react.Fragment,{children:[(0,jsx_runtime.jsx)("button",{onClick:()=>updateArgs({isOpen:!0}),children:"Open Media Library"}),(0,jsx_runtime.jsx)(ReactMediaLibrary_ReactMediaLibrary,{...args,onClose:()=>updateArgs({isOpen:!1})})]})};Empty.displayName="Empty",Empty.args={...storiesDefaultPrimaryArgs,fileLibraryList:[]};const ReactMediaLibrary_stories={component:ReactMediaLibrary_ReactMediaLibrary,title:"React-Media-Library/ReactMediaLibrary",tags:["autodocs"],argTypes:{},parameters:{docs:{story:{height:"700px"}}}},ReactMediaLibrary_stories_Primary=Primary,ReactMediaLibrary_stories_MultiSelect=MultiSelect,ReactMediaLibrary_stories_CustomCard=CustomCard,ReactMediaLibrary_stories_SearchBar=SearchBar,ReactMediaLibrary_stories_CustomSelectedForm=CustomSelectedForm,ReactMediaLibrary_stories_Empty=Empty;ReactMediaLibrary_stories_Primary.parameters={...ReactMediaLibrary_stories_Primary.parameters,docs:{...ReactMediaLibrary_stories_Primary.parameters?.docs,source:{originalSource:"PrimaryComponent",...ReactMediaLibrary_stories_Primary.parameters?.docs?.source},description:{story:"Primary use with a button that opens the media library modal, and clicking off the modal will close it.\nIt has a default random item selected. Selecting a new item using the modal will update the item in the main component.",...ReactMediaLibrary_stories_Primary.parameters?.docs?.description}}},ReactMediaLibrary_stories_MultiSelect.parameters={...ReactMediaLibrary_stories_MultiSelect.parameters,docs:{...ReactMediaLibrary_stories_MultiSelect.parameters?.docs,source:{originalSource:"MultiSelectComponent",...ReactMediaLibrary_stories_MultiSelect.parameters?.docs?.source},description:{story:"This will allow the user to select multiple items to submit or delete.",...ReactMediaLibrary_stories_MultiSelect.parameters?.docs?.description}}},ReactMediaLibrary_stories_CustomCard.parameters={...ReactMediaLibrary_stories_CustomCard.parameters,docs:{...ReactMediaLibrary_stories_CustomCard.parameters?.docs,source:{originalSource:"CustomCardComponent",...ReactMediaLibrary_stories_CustomCard.parameters?.docs?.source},description:{story:"This has a custom component render for the main browse tab card.",...ReactMediaLibrary_stories_CustomCard.parameters?.docs?.description}}},ReactMediaLibrary_stories_SearchBar.parameters={...ReactMediaLibrary_stories_SearchBar.parameters,docs:{...ReactMediaLibrary_stories_SearchBar.parameters?.docs,source:{originalSource:"SearchBarComponent",...ReactMediaLibrary_stories_SearchBar.parameters?.docs?.source},description:{story:"This has a custom component at the top of the page. It is usually used for search and / or filter controls.\nThe logic will have to be done outside of `<ReactMediaLibrary>` but you can update the items being passed to the `fileLibraryList` prop.",...ReactMediaLibrary_stories_SearchBar.parameters?.docs?.description}}},ReactMediaLibrary_stories_CustomSelectedForm.parameters={...ReactMediaLibrary_stories_CustomSelectedForm.parameters,docs:{...ReactMediaLibrary_stories_CustomSelectedForm.parameters?.docs,source:{originalSource:"CustomSelectedFormComponent",...ReactMediaLibrary_stories_CustomSelectedForm.parameters?.docs?.source},description:{story:"This allows you to have a custom sidebar for selected items.\nYou can provide different information than the browse tab or even have an edit form.",...ReactMediaLibrary_stories_CustomSelectedForm.parameters?.docs?.description}}},ReactMediaLibrary_stories_Empty.parameters={...ReactMediaLibrary_stories_Empty.parameters,docs:{...ReactMediaLibrary_stories_Empty.parameters?.docs,source:{originalSource:"EmptyComponent",...ReactMediaLibrary_stories_Empty.parameters?.docs?.source},description:{story:"This is the view if the list of files is empty.",...ReactMediaLibrary_stories_Empty.parameters?.docs?.description}}};const __namedExportsOrder=["Primary","MultiSelect","CustomCard","SearchBar","CustomSelectedForm","Empty"];try{ReactMediaLibrary_stories_Primary.displayName="Primary",ReactMediaLibrary_stories_Primary.__docgenInfo={description:"Primary use with a button that opens the media library modal, and clicking off the modal will close it.\nIt has a default random item selected. Selecting a new item using the modal will update the item in the main component.",displayName:"Primary",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ReactMediaLibrary/ReactMediaLibrary.stories.tsx#Primary"]={docgenInfo:ReactMediaLibrary_stories_Primary.__docgenInfo,name:"Primary",path:"src/components/ReactMediaLibrary/ReactMediaLibrary.stories.tsx#Primary"})}catch(__react_docgen_typescript_loader_error){}try{ReactMediaLibrary_stories_MultiSelect.displayName="MultiSelect",ReactMediaLibrary_stories_MultiSelect.__docgenInfo={description:"This will allow the user to select multiple items to submit or delete.",displayName:"MultiSelect",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ReactMediaLibrary/ReactMediaLibrary.stories.tsx#MultiSelect"]={docgenInfo:ReactMediaLibrary_stories_MultiSelect.__docgenInfo,name:"MultiSelect",path:"src/components/ReactMediaLibrary/ReactMediaLibrary.stories.tsx#MultiSelect"})}catch(__react_docgen_typescript_loader_error){}try{ReactMediaLibrary_stories_CustomCard.displayName="CustomCard",ReactMediaLibrary_stories_CustomCard.__docgenInfo={description:"This has a custom component render for the main browse tab card.",displayName:"CustomCard",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ReactMediaLibrary/ReactMediaLibrary.stories.tsx#CustomCard"]={docgenInfo:ReactMediaLibrary_stories_CustomCard.__docgenInfo,name:"CustomCard",path:"src/components/ReactMediaLibrary/ReactMediaLibrary.stories.tsx#CustomCard"})}catch(__react_docgen_typescript_loader_error){}try{ReactMediaLibrary_stories_SearchBar.displayName="SearchBar",ReactMediaLibrary_stories_SearchBar.__docgenInfo={description:"This has a custom component at the top of the page. It is usually used for search and / or filter controls.\nThe logic will have to be done outside of `<ReactMediaLibrary>` but you can update the items being passed to the `fileLibraryList` prop.",displayName:"SearchBar",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ReactMediaLibrary/ReactMediaLibrary.stories.tsx#SearchBar"]={docgenInfo:ReactMediaLibrary_stories_SearchBar.__docgenInfo,name:"SearchBar",path:"src/components/ReactMediaLibrary/ReactMediaLibrary.stories.tsx#SearchBar"})}catch(__react_docgen_typescript_loader_error){}try{ReactMediaLibrary_stories_CustomSelectedForm.displayName="CustomSelectedForm",ReactMediaLibrary_stories_CustomSelectedForm.__docgenInfo={description:"This allows you to have a custom sidebar for selected items.\nYou can provide different information than the browse tab or even have an edit form.",displayName:"CustomSelectedForm",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ReactMediaLibrary/ReactMediaLibrary.stories.tsx#CustomSelectedForm"]={docgenInfo:ReactMediaLibrary_stories_CustomSelectedForm.__docgenInfo,name:"CustomSelectedForm",path:"src/components/ReactMediaLibrary/ReactMediaLibrary.stories.tsx#CustomSelectedForm"})}catch(__react_docgen_typescript_loader_error){}try{ReactMediaLibrary_stories_Empty.displayName="Empty",ReactMediaLibrary_stories_Empty.__docgenInfo={description:"This is the view if the list of files is empty.",displayName:"Empty",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ReactMediaLibrary/ReactMediaLibrary.stories.tsx#Empty"]={docgenInfo:ReactMediaLibrary_stories_Empty.__docgenInfo,name:"Empty",path:"src/components/ReactMediaLibrary/ReactMediaLibrary.stories.tsx#Empty"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/FileLibraryCard/FileLibraryCard.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>FileLibraryCard_FileLibraryCard});var react=__webpack_require__("./node_modules/react/index.js");function formatBytes(bytes,decimals=2){if(0===bytes)return"0 Bytes";const dm=decimals<0?0:decimals,i=Math.floor(Math.log(bytes)/Math.log(1024));return parseFloat((bytes/Math.pow(1024,i)).toFixed(dm))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][i]}function formatDate(date){let newDate;return newDate=date instanceof Date?date:new Date(date),newDate.toLocaleDateString()}var ReactMediaLibraryContext=__webpack_require__("./src/context/ReactMediaLibraryContext.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const FileLibraryCard=props=>{const{selectedItems}=(0,react.useContext)(ReactMediaLibraryContext.s),isSelected=!!selectedItems?.find((element=>element._id===props._id));return(0,jsx_runtime.jsxs)("div",{className:`react-media-library__file-library-card ${isSelected&&"is-active"}`,children:[props.thumbnailUrl&&(0,jsx_runtime.jsx)("img",{className:"react-media-library__file-library-card__image",src:props.thumbnailUrl,alt:props.title}),props.title&&(0,jsx_runtime.jsx)("h4",{className:"react-media-library__file-library-card__title",children:props.title}),(0,jsx_runtime.jsxs)("ul",{className:"react-media-library__file-library-card__list",children:[props.fileName&&(0,jsx_runtime.jsx)("li",{className:"react-media-library__file-library-card__list__item",children:props.fileName}),props.size&&(0,jsx_runtime.jsx)("li",{className:"react-media-library__file-library-card__list__item",children:formatBytes(props.size)}),props.createdAt&&(0,jsx_runtime.jsx)("li",{className:"react-media-library__file-library-card__list__item",children:formatDate(props.createdAt)})]})]})};FileLibraryCard.displayName="FileLibraryCard";const FileLibraryCard_FileLibraryCard=FileLibraryCard;try{FileLibraryCard.displayName="FileLibraryCard",FileLibraryCard.__docgenInfo={description:"",displayName:"FileLibraryCard",props:{_id:{defaultValue:null,description:"Unique identifier for this item. Required to properly select the item in browse tab. *",name:"_id",required:!0,type:{name:"string | number"}},title:{defaultValue:null,description:"Displayed title. *",name:"title",required:!1,type:{name:"string"}},size:{defaultValue:null,description:"Size of file in Bytes. *",name:"size",required:!1,type:{name:"number"}},createdAt:{defaultValue:null,description:"Date that the file was created. *",name:"createdAt",required:!1,type:{name:"string | number | Date"}},thumbnailUrl:{defaultValue:null,description:"URL for thumbnail to display image in browse tab. *",name:"thumbnailUrl",required:!1,type:{name:"string"}},description:{defaultValue:null,description:"Displayed description on card in browse tab. *",name:"description",required:!1,type:{name:"string"}},fileName:{defaultValue:null,description:"Displayed filename on card in browse tab. *",name:"fileName",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FileLibraryCard/FileLibraryCard.tsx#FileLibraryCard"]={docgenInfo:FileLibraryCard.__docgenInfo,name:"FileLibraryCard",path:"src/components/FileLibraryCard/FileLibraryCard.tsx#FileLibraryCard"})}catch(__react_docgen_typescript_loader_error){}},"./src/context/ReactMediaLibraryContext.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{s:()=>ReactMediaLibraryContext});const reactMediaLibraryDefaultContext={fileLibraryList:[],selectedItems:[],setSelectedItems:()=>{},fileUploadCallback:async()=>!1,filesSelectCallback:()=>{},sortProperty:"createdAt",sortAscending:!1,multiSelect:!1,defaultSelectedItemIds:[]},ReactMediaLibraryContext=(0,__webpack_require__("./node_modules/react/index.js").createContext)(reactMediaLibraryDefaultContext)}}]);